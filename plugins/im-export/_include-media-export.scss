@function im-breakpoints-to-json($target-name) {
  $json: ('"_": "#{$target-name}"');
  $target-value: map-get($breakpoints, $target-name);

  @each $name, $value in $breakpoints {
    $json: append($json, '"#{$name}":#{$target-value >= $value}', 'comma');
  }

  @return '{#{$json}}' ;
}

@mixin im-export($element) {
  @each $name, $value in $breakpoints {
    @include media('>=#{$name}') {
      #{$element} {
        content: im-breakpoints-to-json($name);
        display: none;
      }
    }
  }
}

@include im-export(if(variable-exists('im-export-element'), $im-export-element + '::after', 'body::after'));